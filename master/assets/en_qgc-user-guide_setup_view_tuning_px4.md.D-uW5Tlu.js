import{_ as o,a as i,b as a,c as r,d as t}from"./chunks/px4_copter_manual_velocity.B0SRN7H4.js";import{_ as l,c as s,o as u,ag as n,j as h}from"./chunks/framework.BudlMBKT.js";const v=JSON.parse('{"title":"Tuning (PX4)","description":"","frontmatter":{},"headers":[],"relativePath":"en/qgc-user-guide/setup_view/tuning_px4.md","filePath":"en/qgc-user-guide/setup_view/tuning_px4.md"}'),g={name:"en/qgc-user-guide/setup_view/tuning_px4.md"};function d(p,e,c,m,f,b){return u(),s("div",null,e[0]||(e[0]=[n('<h1 id="tuning-px4" tabindex="-1">Tuning (PX4) <a class="header-anchor" href="#tuning-px4" aria-label="Permalink to &quot;Tuning (PX4)&quot;">​</a></h1><p>Tuning only needs to be done once, and is recommended unless you&#39;re using vehicle that has already been tuned by the manufacturer (and not modified since).</p><p><a href="#autotune">Auto-tuning</a> should generally be used for frame types and controllers that support it (multicopter, fixed wing, and hybrid VTOL fixed wing vehicles). The tuning UI also supports manual tuning of all controllers.</p><p><img src="'+o+'" alt="Tuning Setup &gt; Autotune"></p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>During <a href="./../config/airframe.html">Airframe Setup</a> you should have selected the frame that most closely matches your vehicle. This will usually be tuned well enough to fly, and it <em>may</em> also be sufficiently well tuned to run autotuning.</p></div><h2 id="autotune" tabindex="-1">Autotune <a class="header-anchor" href="#autotune" aria-label="Permalink to &quot;Autotune&quot;">​</a></h2><p>Auto-tuning automates the process of tuning the PX4 rate and attitude controllers, which are the most important controllers for stable and responsive flight (other tuning is more &quot;optional&quot;).</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>This guide shows the default usage of this feature. Additional information and configuration can be found in the <a href="http://docs.px4.io/master/en/config/autotune.html" target="_blank" rel="noreferrer">PX4 Autotuning Guide</a> (PX4 User Guide).</p></div><h3 id="pre-autotuning-test" tabindex="-1">Pre-Autotuning Test <a class="header-anchor" href="#pre-autotuning-test" aria-label="Permalink to &quot;Pre-Autotuning Test&quot;">​</a></h3><p>Auto-tuning is performed while flying. The vehicle must be able to fly and adequately stabilize itself before running auto-tune. This test ensures that the vehicle can fly safely in position controlled modes.</p><p>To make sure the vehicle is stable enough for auto-tuning:</p><ol><li>Perform a normal preflight safety checklist to ensure the flight zone is clear and has enough space.</li><li>Takeoff and prepare for the test <ul><li><strong>Multicopters:</strong> Take off and hover at 1m above ground in <strong>Altitude mode</strong> or Stabilized mode.</li><li><strong>Fixed-wing mode:</strong> Take off and fly at cruise speed in <strong>Position mode</strong> or <strong>Altitude mode</strong>.</li></ul></li><li>Use the RC transmitter roll stick to perform the following maneuver, tilting the vehicle just a few degrees: <em>roll left &gt; roll right &gt; center</em> (The whole maneuver should take about 3 seconds). The vehicle should stabilise itself within 2 oscillations.</li><li>Repeat the maneuver, tilting with larger amplitudes at each attempt. If the vehicle can stabilise itself within 2 oscillations at ~20 degrees move to the next step.</li><li>Repeat the same maneuvers but on the pitch axis. As above, start with small angles and confirm that the vehicle can itself within 2 oscillations before increasing the tilt.</li></ol><p>If the drone can stabilize itself within 2 oscillations it is ready for the auto-tuning procedure.</p><p>If not, see the <a href="http://docs.px4.io/master/en/config/autotune.html#troubleshooting" target="_blank" rel="noreferrer">PX4 User Guide &gt; Autotuning &gt; Troubleshooting</a>.</p><h3 id="auto-tuning-procedure" tabindex="-1">Auto-tuning procedure <a class="header-anchor" href="#auto-tuning-procedure" aria-label="Permalink to &quot;Auto-tuning procedure&quot;">​</a></h3><p>The auto-tuning sequence must be performed in a <strong>safe flight zone, with enough space</strong>. It takes about 40 seconds (between 19 and 68 seconds). For best results, we recommend running the test in calm weather conditions.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Be ready to abort the autotuning process by moving the RC controller sticks.</p></div><p>The test steps are:</p><ol><li><p>Perform the <a href="#pre-tuning-test">pre-tuning test</a> above.</p></li><li><p>Takeoff using RC control and prepare for test:</p><ul><li><strong>Multicopters:</strong> Takeoff using the remote controller in <strong>Altitude mode</strong>. Hover the vehicle at a safe distance and at a few meters above ground (between 4 and 20m).</li><li><strong>VTOL in Fixed-wing mode:</strong> Once flying at cruise speed, activate <strong>Hold Mode</strong>. This will guide the plane to fly in circle at constant altitude and speed.</li></ul></li><li><p>In QGroundControl, open the menu: <strong>Vehicle setup &gt; PID Tuning</strong></p><p><img src="'+i+'" alt="Tuning Setup &gt; Autotune Enabled"></p></li><li><p>Select either the <em>Rate Controller</em> or <em>Attitude Controller</em> tabs. Ensure that the <strong>Autotune enabled</strong> button is enabled (this will display the <strong>Autotune</strong> button and remove the manual tuning selectors).</p></li><li><p>Stop moving the joysticks and click on the <strong>Autotune</strong> button. Read the warning popup and click on <strong>OK</strong> to start tuning.</p></li><li><p>The drone will first start to perform quick roll motions followed by pitch and yaw motions. The progress is shown in the progress bar, next to the <em>Autotune</em> button.</p></li><li><p>Apply the tuning:</p><ul><li><strong>Fixed Wing:</strong> The tuning will be immediately/automatically be applied and tested in flight (by default). PX4 will then run a 4 second test and revert the new tuning if a problem is detected.</li><li><strong>Multicopters:</strong> Manually land and disarm to apply the new tuning parameters. Takeoff carefully and manually test that the vehicle is stable.</li></ul></li><li><p>If any strong oscillations occur, land immediately and follow the instructions in <a href="http://docs.px4.io/master/en/config/autotune.html#troubleshooting" target="_blank" rel="noreferrer">PX4 User Guide &gt; Autotuning &gt; Troubleshooting</a>.</p></li></ol><br><p>A video of the process is shown below:</p>',21),h("iframe",{width:"750",height:"425",src:"https://www.youtube.com/embed/5xswOhhqrIQ?si=UZQ-M8A8Dt0JfL81",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,-1),n('<h2 id="manual-tuning" tabindex="-1">Manual Tuning <a class="header-anchor" href="#manual-tuning" aria-label="Permalink to &quot;Manual Tuning&quot;">​</a></h2><p>Manual tuning is done in-flight, so your vehicle must already be tuned well enough to fly with (this is normally the case if you have selected an appropriate default airframe).</p><p>The instructions below explain how you can use the manual tuning UI. It is designed to be read/used in conjustion with the <a href="http://docs.px4.io/master/en/config/autotune.html#see-also" target="_blank" rel="noreferrer">PX4 Manual PID Tuning Guides</a>, which provide more detailed hints on the kinds of step sizes to use when changing PID values.</p><p>In overview:</p><ol><li><p>Takeoff using RC control and prepare for test:</p><ul><li><strong>Multicopters:</strong> Takeoff using the remote controller in <strong>Altitude mode</strong>. Hover the vehicle at a safe distance and at a few meters above ground (between 4 and 20m).</li><li><strong>Fixed-wing:</strong> Once flying at cruise speed, activate <strong>Hold Mode</strong>. This will guide the plane to fly in circle at constant altitude and speed.</li></ul></li><li><p>In QGroundControl, open the menu: <strong>Vehicle setup &gt; PID Tuning</strong></p></li><li><p>Select the <em>Rate Controller</em> tab. Ensure that the <strong>Autotune enabled</strong> button is is turned off.</p><p><img src="'+a+'" alt="PX4 Tuning - Manual - Rate controller"></p></li><li><p>Select the <em>Tuning axis</em> to tune: <strong>Roll</strong>, <strong>Pitch</strong> or <strong>Yaw</strong> (each axis is tuned separately).</p></li><li><p>Fly the vehicle, observing the tracking on the chart.</p><ul><li>Adjust the <em>Tuning Values</em> (parameters) to improve the tracking shown on the graph using the slider.</li><li>The values are automatically saved, but you may wish to use the <strong>Save to Clipboard</strong> and <strong>Restore from Clipboard</strong> buttons to store the last known good configuration.</li><li>You can also <strong>Clear</strong>/<strong>Stop</strong> the chart using the buttons provided.</li></ul></li><li><p>Tune the other axes.</p></li><li><p>Switch to the other controllers and repeat the process. Screenshots of the tuning pages are shown below.</p><p><img src="'+r+'" alt="PX4 Tuning - Manual - Attitude controller"><img src="'+t+'" alt="PX4 Tuning - Manual - Velocity controller"><img src="'+t+'" alt="PX4 Tuning - Manual - Position controller"></p></li></ol>',5)]))}const y=l(g,[["render",d]]);export{v as __pageData,y as default};
