import{_ as l,a,b as n}from"./chunks/qt_project_installer.rzxTNdwD.js";import{_ as r,o as d,c as u,k as e,a as t,t as o,R as s}from"./chunks/framework.diAschSC.js";const U=JSON.parse('{"title":"Getting Started with Source and Builds","description":"","frontmatter":{"qt_version":"6.6.1"},"headers":[],"relativePath":"en/qgc-dev-guide/getting_started/index.md","filePath":"en/qgc-dev-guide/getting_started/index.md"}'),c={name:"en/qgc-dev-guide/getting_started/index.md"},h=s('<h1 id="getting-started-with-source-and-builds" tabindex="-1">Getting Started with Source and Builds <a class="header-anchor" href="#getting-started-with-source-and-builds" aria-label="Permalink to &quot;Getting Started with Source and Builds&quot;">​</a></h1><p>This topic explains how to get the <em>QGroundControl</em> source code and build it either natively or within a <em>Vagrant</em> environment. It also provides information about optional or OS specific functionality.</p><h2 id="daily-builds" tabindex="-1">Daily Builds <a class="header-anchor" href="#daily-builds" aria-label="Permalink to &quot;Daily Builds&quot;">​</a></h2><p>If you just want to test (and not debug) a recent build of <em>QGroundControl</em> you can use the <a href="./../../qgc-user-guide/releases/daily_builds.html">Daily Build</a>. Versions are provided for all platforms.</p><h2 id="source-code" tabindex="-1">Source Code <a class="header-anchor" href="#source-code" aria-label="Permalink to &quot;Source Code&quot;">​</a></h2><p>Source code for <em>QGroundControl</em> is kept on GitHub here: <a href="https://github.com/mavlink/qgroundcontrol" target="_blank" rel="noreferrer">https://github.com/mavlink/qgroundcontrol</a>. It is <a href="https://github.com/mavlink/qgroundcontrol/blob/master/COPYING.md" target="_blank" rel="noreferrer">dual-licensed under Apache 2.0 and GPLv3</a>.</p><p>To get the source files:</p><ol><li><p>Clone the repo (or your fork) including submodules:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --recursive</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -j8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/mavlink/qgroundcontrol.git</span></span></code></pre></div></li><li><p>Update submodules (required each time you pull new source code):</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> submodule</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --recursive</span></span></code></pre></div></li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Github source-code zip files cannot be used because these do not contain the appropriate submodule source code. You must use git!</p></div><h2 id="build-qgroundcontrol" tabindex="-1">Build QGroundControl <a class="header-anchor" href="#build-qgroundcontrol" aria-label="Permalink to &quot;Build QGroundControl&quot;">​</a></h2><h3 id="using-containers" tabindex="-1">Using Containers <a class="header-anchor" href="#using-containers" aria-label="Permalink to &quot;Using Containers&quot;">​</a></h3><p>We support Linux builds using a container found on the source tree of the repository, which can help you develop and deploy the QGC apps without having to install any of the requirements on your local environment.</p><p><a href="./../getting_started/container.html">Container Guide</a></p><h3 id="native-builds" tabindex="-1">Native Builds <a class="header-anchor" href="#native-builds" aria-label="Permalink to &quot;Native Builds&quot;">​</a></h3><p><em>QGroundControl</em> builds are supported for macOS, Linux, Windows, and Android. Creating a version of QGC for iOS is theoretically possible but is no longer supported as a standard build. <em>QGroundControl</em> uses <a href="http://www.qt.io" target="_blank" rel="noreferrer">Qt</a> as its cross-platform support library.</p>',15),p=e("strong",null,"(only)",-1),g={class:"warning custom-block"},m=e("p",{class:"custom-block-title"},"WARNING",-1),b=e("strong",null,"Do not use any other version of Qt!",-1),k=s('<p>For more information see: <a href="https://doc.qt.io/qt-6/supported-platforms.html" target="_blank" rel="noreferrer">Qt 6 supported platform list</a>.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Native <a href="./../getting_started/cent_os.html">CentOS Builds</a> are also supported, but are documented separately (as the tested environment is different).</p></div><h4 id="install-qt" tabindex="-1">Install Qt <a class="header-anchor" href="#install-qt" aria-label="Permalink to &quot;Install Qt&quot;">​</a></h4><p>You <strong>must install Qt as described below</strong> instead of using pre-built packages from say, a Linux distribution.</p><p>To install Qt:</p>',5),_=e("li",null,[e("p",null,[t("Download and run the "),e("a",{href:"http://www.qt.io/download-open-source",target:"_blank",rel:"noreferrer"},"Qt Online Installer")]),e("ul",null,[e("li",null,[e("strong",null,"Ubuntu:"),e("ul",null,[e("li",null,[t("Set the downloaded file to executable using: "),e("code",null,"chmod +x"),t(".")]),e("li",null,"You may also need to install libxcb-cursor.")])])])],-1),f=e("em",null,"Select Components",-1),v=e("p",null,"Then install the following components:",-1),C=e("div",{class:"info custom-block"},[e("p",{class:"custom-block-title"},"INFO"),e("p",null,[t("To see a complete list of all available components in the installer "),e("em",null,"Select Components"),t(" dialog, you might need to check the "),e("strong",null,'"Archive"'),t(" box in the right column under the "),e("strong",null,'"Categories"'),t(" tab, then click on "),e("strong",null,'"Filter"'),t(".")])],-1),y=s("<ul><li>Depending on the OS you want to build for: <ul><li><strong>Windows</strong>: <em>MSVC 2019 64 bit</em></li><li><strong>MacOS</strong>: <em>macOS</em></li><li><strong>Linux</strong>: <em>Desktop gcc 64-bit</em></li><li><strong>Android</strong>: <em>Android</em></li></ul></li><li><em>Qt 5 Compatibility Module</em></li><li><em>Qt Shader Tools</em></li><li><em>Qt Quick 3D</em></li></ul>",1),q=s("<li><p>Under <em>Additional Libraries</em> select:</p><ul><li><em>Qt Charts</em></li><li><em>Qt Connectivity</em></li><li><em>Qt Location (TP)</em></li><li><em>Qt Multimedia</em></li><li><em>Qt Positioning</em></li><li><em>Qt Serial Port</em></li><li><em>Qt Speech</em></li></ul></li>",1),S=s('<ol><li><p>Install Additional Packages (Platform Specific)</p><ul><li><strong>Ubuntu:</strong> <code>bash ./qgroundcontrol/tool/setup/ubuntu.sh</code></li><li><strong>Fedora:</strong> <code>sudo dnf install speech-dispatcher SDL2-devel SDL2 systemd-devel patchelf</code></li><li><strong>Arch Linux:</strong> <code>pacman -Sy speech-dispatcher patchelf</code></li><li><strong>OSX</strong> <a href="https://doc.qt.io/qt-6/macos.html" target="_blank" rel="noreferrer">Setup</a></li><li><strong>Android</strong> <a href="https://doc.qt.io/qt-6/android-getting-started.html" target="_blank" rel="noreferrer">Setup</a></li></ul></li><li><p>Install Optional/OS-Specific Functionality</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Optional features that are dependent on the operating system and user-installed libraries are linked/described below. These features can be forcibly enabled/disabled by specifying additional values to qmake.</p></div><ul><li><strong>Video Streaming/Gstreamer:</strong> - see <a href="https://github.com/mavlink/qgroundcontrol/blob/master/src/VideoReceiver/README.md" target="_blank" rel="noreferrer">Video Streaming</a>.</li></ul></li></ol><h4 id="qt-creator" tabindex="-1">Building using Qt Creator <a class="header-anchor" href="#qt-creator" aria-label="Permalink to &quot;Building using Qt Creator {#qt-creator}&quot;">​</a></h4>',2),F=e("li",null,[e("p",null,[t("Launch "),e("em",null,"Qt Creator"),t(" and open the "),e("strong",null,"qgroundcontrol.pro"),t(" project.")])],-1),w=e("p",null,[t("In the "),e("strong",null,"Projects"),t(" section, select the appropriate kit for your needs:")],-1),T=e("strong",null,"OSX:",-1),Q=e("div",{class:"info custom-block"},[e("p",{class:"custom-block-title"},"INFO"),e("p",null,[t("iOS builds must be built using "),e("a",{href:"http://doc.qt.io/qt-5/ios-support.html",target:"_blank",rel:"noreferrer"},"XCode"),t(".")])],-1),B=e("strong",null,"Ubuntu:",-1),I=e("strong",null,"Windows:",-1),A=e("strong",null,"64bit",-1),P=e("strong",null,"Android:",-1),G=e("ul",null,[e("li",null,[t("JDK11 is required. You can confirm it is being used by reviewing the project setting: "),e("strong",null,[t("Projects > Manage Kits > Devices > Android (tab) > Android Settings > "),e("em",null,"JDK location")]),t(".")])],-1),D=e("li",null,[e("p",null,'Build using the "hammer" (or "play") icons:'),e("p",null,[e("img",{src:l,alt:"QtCreator Build Button"})])],-1),O=s('<h4 id="vs" tabindex="-1">Install Visual Studio 2019 (Windows Only) <a class="header-anchor" href="#vs" aria-label="Permalink to &quot;Install Visual Studio 2019 (Windows Only) {#vs}&quot;">​</a></h4><p>The Windows compiler can be found here: <a href="https://visualstudio.microsoft.com/vs/older-downloads/" target="_blank" rel="noreferrer">Visual Studio 2019 compiler</a> (64 bit)</p><p>When installing, select <em>Desktop development with C++</em> as shown:</p><p><img src="'+a+`" alt="Visual Studio 2019 - Select Desktop Environment with C++"></p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Visual Studio is ONLY used to get the compiler. Actually building <em>QGroundControl</em> should be done using <a href="#qt-creator">Qt Creator</a> or <a href="#qmake">qmake</a> as outlined below.</p></div><h4 id="qmake" tabindex="-1">Build using qmake on CLI <a class="header-anchor" href="#qmake" aria-label="Permalink to &quot;Build using qmake on CLI {#qmake}&quot;">​</a></h4><p>Example commands to build a default QGC and run it afterwards:</p><ol><li><p>Make sure you cloned the repository and updated the submodules before, see chapter <em>Source Code</em> above and switch into the repository folder:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> qgroundcontrol</span></span></code></pre></div></li><li><p>Create and enter a shadow build directory:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div></li><li><p>Configure the build using the qmake script in the root of the repository:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">qmake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ../</span></span></code></pre></div></li><li><p>Run make to compile and link. To accelerate the process things you can use the <code>-j{number of threads}</code> parameter.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -j12</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>You can also specify build time flags here. For example, you could disable airmap inclusion using the command:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DEFINES</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">DISABLE_AIRMAP</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div></div></li><li><p>Run the QGroundcontrol binary that was just built:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./staging/QGroundControl</span></span></code></pre></div></li></ol><h3 id="vagrant" tabindex="-1">Vagrant <a class="header-anchor" href="#vagrant" aria-label="Permalink to &quot;Vagrant&quot;">​</a></h3><p><a href="https://www.vagrantup.com/" target="_blank" rel="noreferrer">Vagrant</a> can be used to build and run <em>QGroundControl</em> within a Linux virtual machine (the build can also be run on the host machine if it is compatible).</p><ol><li><a href="https://www.vagrantup.com/downloads.html" target="_blank" rel="noreferrer">Download</a> and <a href="https://www.vagrantup.com/docs/getting-started/" target="_blank" rel="noreferrer">Install</a> Vagrant</li><li>From the root directory of the <em>QGroundControl</em> repository run <code>vagrant up</code></li><li>To use the graphical environment run <code>vagrant reload</code></li></ol><h3 id="additional-build-notes-for-all-supported-os" tabindex="-1">Additional Build Notes for all Supported OS <a class="header-anchor" href="#additional-build-notes-for-all-supported-os" aria-label="Permalink to &quot;Additional Build Notes for all Supported OS&quot;">​</a></h3><ul><li><strong>Parallel builds:</strong> For non Windows builds, you can use the <code>-j#</code> option to run parellel builds.</li><li><strong>If you get this error when running <em>QGroundControl</em></strong>: <code>/usr/lib/x86_64-linux-gnu/libstdc++.so.6: version &#39;GLIBCXX_3.4.20&#39; not found.</code>, you need to either update to the latest <em>gcc</em>, or install the latest <em>libstdc++.6</em> using: <code>sudo apt-get install libstdc++6</code>.</li><li><strong>Unit tests:</strong> To run the <a href="./../contribute/unit_tests.html">unit tests</a>, build in <code>debug</code> mode with <code>UNITTEST_BUILD</code> definition, and then copy <code>deploy/qgroundcontrol-start.sh</code> script into the <code>debug</code> directory before running the tests.</li></ul><h2 id="building-qgc-installation-files" tabindex="-1">Building QGC Installation Files <a class="header-anchor" href="#building-qgc-installation-files" aria-label="Permalink to &quot;Building QGC Installation Files&quot;">​</a></h2><p>You can additionally create installation file(s) for <em>QGroundControl</em> as part of the normal build process.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>On Windows you will need to first install <a href="https://sourceforge.net/projects/nsis/" target="_blank" rel="noreferrer">NSIS</a>.</p></div><p>To add support for installation file creation you need to add <code>CONFIG+=installer</code> to your project file, or when you call <em>qmake</em>.</p><p>To do this in <em>Qt Creator</em>:</p><ul><li>Open <strong>Projects &gt; Build &gt; Build Steps &gt; qmake &gt; Additional arguments</strong>.</li><li>Enter <code>CONFIG+=installer</code> as shown: <img src="`+n+'" alt="Installer"></li></ul>',19);function V(i,E,N,x,L,j){return d(),u("div",null,[h,e("p",null,[t("The required version of Qt is "+o(i.$frontmatter.qt_version)+" ",1),p,t(".")]),e("div",g,[m,e("p",null,[b,t(" QGC has been thoroughly tested with the specified version of Qt ("+o(i.$frontmatter.qt_version)+"). There is a significant risk that other Qt versions will inject bugs that affect stability and safety (even if QGC compiles).",1)])]),k,e("ol",null,[_,e("li",null,[e("p",null,[t("In the installer "),f,t(" dialog choose: Qt "+o(i.$frontmatter.qt_version)+".",1)]),v])]),C,e("ul",null,[e("li",null,[e("p",null,[t("Under _Qt "),e("em",null,o(i.$frontmatter.qt_version),1),t(" select:")]),y]),q]),S,e("ol",null,[F,e("li",null,[w,e("ul",null,[e("li",null,[e("p",null,[T,t(" Desktop Qt "+o(i.$frontmatter.qt_version)+" clang 64 bit",1)]),Q]),e("li",null,[e("p",null,[B,t(" Desktop Qt "+o(i.$frontmatter.qt_version)+" GCC 64bit",1)])]),e("li",null,[e("p",null,[I,t(" Desktop Qt "+o(i.$frontmatter.qt_version)+" MSVC2019 ",1),A])]),e("li",null,[e("p",null,[P,t(" Android for armeabi-v7a (GCC 4.9, Qt "+o(i.$frontmatter.qt_version)+")",1)]),G])])]),D]),O])}const W=r(c,[["render",V]]);export{U as __pageData,W as default};
