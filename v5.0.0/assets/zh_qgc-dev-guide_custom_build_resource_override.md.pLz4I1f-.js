import{_ as r,c as o,o as t,ag as s}from"./chunks/framework.DHJqe3d8.js";const m=JSON.parse('{"title":"Resource Overrides","description":"","frontmatter":{},"headers":[],"relativePath":"zh/qgc-dev-guide/custom_build/resource_override.md","filePath":"zh/qgc-dev-guide/custom_build/resource_override.md"}'),i={name:"zh/qgc-dev-guide/custom_build/resource_override.md"};function a(u,e,n,c,l,d){return t(),o("div",null,e[0]||(e[0]=[s('<h1 id="resource-overrides" tabindex="-1">Resource Overrides <a class="header-anchor" href="#resource-overrides" aria-label="Permalink to &quot;Resource Overrides&quot;">​</a></h1><p>A &quot;resource&quot; in QGC source code terminology is anything found in Qt resources file:</p><ul><li><a href="https://github.com/mavlink/qgroundcontrol/blob/master/qgroundcontrol.qrc" target="_blank" rel="noreferrer">qgroundcontrol.qrc</a> and</li><li><a href="https://github.com/mavlink/qgroundcontrol/blob/master/qgcresources.qrc" target="_blank" rel="noreferrer">qgcresources.qrc</a> file.</li><li><a href="https://github.com/mavlink/qgroundcontrol/blob/master/resources/InstrumenValueIcons/InstrumentValueIcons.qrc" target="_blank" rel="noreferrer">InstrumentValueIcons.qrc</a></li></ul><p>By overriding a resource you can replace it with your own version of it. This could be as simple as a single icon, or as complex as replacing an entire Vehicle Setup page of qml ui code. Be aware that using resource overrides does not isolate you from upstream QGC changes like the plugin architecture does. In a sense you are directly modify the upstream QGC resources used by the main code.</p><h2 id="exclusion-files" tabindex="-1">Exclusion Files <a class="header-anchor" href="#exclusion-files" aria-label="Permalink to &quot;Exclusion Files&quot;">​</a></h2><p>The first step to overriding a resource is to &quot;exclude&quot; it from the standard portion of the upstream build. This means that you are going to provide that resource in your own custom build resource file(s). There are two files which achieve this: qgroundcontrol.exclusion and <a href="https://github.com/mavlink/qgroundcontrol/blob/master/custom-example/qgcresources.exclusion" target="_blank" rel="noreferrer">qgcresources.exclusion</a>. They correspond directly with the *.qrc counterparts. In order to exclude a resource, copy the resource line from the .qrc file into the appropriate .exclusion file.</p><h2 id="custom-version-of-excluded-resources" tabindex="-1">Custom version of excluded resources <a class="header-anchor" href="#custom-version-of-excluded-resources" aria-label="Permalink to &quot;Custom version of excluded resources&quot;">​</a></h2><p>You must include the custom version of the overriden resouce in you custom build resource file. The resource alias must exactly match the upstream alias. The name and actual location of the resource can be anywhere within your custom directory structure.</p><h2 id="generating-the-new-modified-versions-of-standard-qgc-resource-file" tabindex="-1">Generating the new modified versions of standard QGC resource file <a class="header-anchor" href="#generating-the-new-modified-versions-of-standard-qgc-resource-file" aria-label="Permalink to &quot;Generating the new modified versions of standard QGC resource file&quot;">​</a></h2><p>This is done using the resource update python scripts:<code>python updateqrc.py</code> and <code>python updateinstrumentqrc.py</code>. It will read the upstream resouce files and the corresponding exclusion files and output new versions of these files in your custom directory. These new versions will not have the resources you specified to exclude in them. The build system for custom builds uses these generated files (if they exist) to build with instead of the upstream versions. The generated version of these file should be added to your repo. Also whenever you update the upstream portion of QGC in your custom repo you must re-run the scripts to generate new versions of the files since the upstream resources may have changed.</p><h2 id="custom-build-example" tabindex="-1">Custom Build Example <a class="header-anchor" href="#custom-build-example" aria-label="Permalink to &quot;Custom Build Example&quot;">​</a></h2><p>You can see an examples of custom build qgcresource overrides in the repo custom build example:</p><ul><li><a href="https://github.com/mavlink/qgroundcontrol/blob/master/custom-example/qgcresources.exclusion" target="_blank" rel="noreferrer">qgcresources.qrc</a></li><li><a href="https://github.com/mavlink/qgroundcontrol/blob/master/custom-example/custom.qrc" target="_blank" rel="noreferrer">custom.qrc</a></li></ul>',13)]))}const p=r(i,[["render",a]]);export{m as __pageData,p as default};
